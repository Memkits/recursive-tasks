{:definitions {"recursive-tasks.comp.task-list/render" ["defn" "render" ["tasks" "path"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" "style-list"]] ["div" ["{}"] ["->>" "tasks" ["map-indexed" ["fn" ["idx" "task"] ["let" [["child-path" ["conj" "path" "idx"]]] ["[]" [":id" "task"] ["div" ["{}" [":style" ["merge" "ui/row" ["{}" [":padding" "|0px 8px"]]]]] ["comp-task" "task" "child-path"] ["if" ["not" [":done?" "task"]] ["comp-task-list" [":sub-tasks" "task"] ["conj" "child-path" ":sub-tasks"]]]]]]]]]] ["div" ["{}" [":style" "style-toolbar"]] ["div" ["{}" [":style" "widget/button"] [":event" ["{}" [":click" ["on-add" "path"]]]]] ["comp-text" "|add" "nil"]]]]]], "recursive-tasks.comp.task/style-done" ["def" "style-done" ["{}" [":background-color" ["hsl" "0" "0" "40"]]]], "recursive-tasks.updater.core/updater" ["defn" "updater" ["store" "op" "op-data" "op-id"] ["let" [["handler" ["case" "op" [":add-task" "add-task"] [":update-task" "update-task"] [":remove-task" "remove-task"] [":toggle-task" "toggle-task"] "default-handler"]]] ["handler" "store" "op-data" "op-id"]]], "recursive-tasks.comp.task/render" ["defn" "render" ["task" "path"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" "ui/row" "style-task" ["{}" [":align-items" "|flex-start"]]]]] ["div" ["{}" [":style" ["merge" "style-toggler" ["if" [":done?" "task"] "style-done"]]] [":event" ["{}" [":click" ["on-toggle" "path"]]]]]] ["comp-space" "|8px" "nil"] ["input" ["{}" [":style" ["merge" "ui/input" ["{}" [":width" ["max" "80" ["+" "20" ["text-width" [":text" "task"] "14" [":font-family" "ui/input"]]]]]]]] [":attrs" ["{}" [":placeholder" "|write task"] [":value" [":text" "task"]]]] [":event" ["{}" [":input" ["on-input" "path"]]]]]] ["comp-space" "|8px" "nil"] ["div" ["{}" [":style" "style-remove"] [":event" ["{}" [":click" ["on-remove" "path"]]]]]]]]], "recursive-tasks.comp.task/style-remove" ["def" "style-remove" ["let" [["size" "16"]] ["{}" [":width" "size"] [":height" "size"] [":background-color" ["hsl" "0" "80" "70"]] [":cursor" "|pointer"] [":border-radius" ["str" ["/" "size" "2"] "|px"]]]]], "recursive-tasks.comp.container/comp-container" ["def" "comp-container" ["create-comp" ":container" "render"]], "recursive-tasks.comp.task-list/style-toolbar" ["def" "style-toolbar" ["{}" [":padding" "8"]]], "recursive-tasks.comp.container/render" ["defn" "render" ["store"] ["fn" ["state" "mutate!"] ["div" ["{}" [":style" ["merge" ["merge" "ui/global" ["{}" [":padding" "16"]]]]]] ["comp-task-list" [":tasks" "store"] ["[]" ":tasks"]] ["--" "comp-debug" "store" ["{}" [":bottom" "0"]]]]]], "recursive-tasks.updater.core/default-handler" ["defn" "default-handler" ["store" "op-data" "op-id"] "store"], "recursive-tasks.updater.core/update-task" ["defn" "update-task" ["store" "op-data" "op-id"] ["let" [[["[]" "path" "content"] "op-data"]] ["update-in" "store" "path" ["fn" ["task"] ["assoc" "task" ":text" "content"]]]]], "recursive-tasks.core/states-ref" ["defonce" "states-ref" ["atom" ["{}"]]], "recursive-tasks.comp.task/style-task" ["def" "style-task" ["{}" [":padding" "|4px 8px"]]], "recursive-tasks.comp.task/on-input" ["defn" "on-input" ["path"] ["fn" ["e" "dispatch!"] ["let" [["content" [":value" "e"]]] ["dispatch!" ":update-task" ["[]" "path" "content"]]]]], "recursive-tasks.style.widget/button" ["def" "button" ["merge" "ui/button" ["{}" [":line-height" "|24px"] [":border-radius" "|4px"] [":font-size" "|12px"] [":background-color" ["hsl" "200" "80" "80"]]]]], "recursive-tasks.util.measure/ctx" ["defonce" "ctx" [".getContext" [".createElement" "js/document" "|canvas"] "|2d"]], "recursive-tasks.comp.task/style-toggler" ["def" "style-toggler" ["let" [["size" "24"]] ["{}" [":width" "size"] [":height" "size"] [":background-color" ["hsl" "0" "0" "80"]] [":cursor" "|pointer"]]]], "recursive-tasks.core/dispatch!" ["defn" "dispatch!" ["op" "op-data"] ["println" "|dispatch!" "op" "op-data"] ["let" [["op-id" [".valueOf" ["js/Date."]]] ["new-store" ["updater" "@store-ref" "op" "op-data" "op-id"]]] ["reset!" "store-ref" "new-store"]]], "recursive-tasks.comp.task-list/comp-task-list" ["def" "comp-task-list" ["create-comp" ":task-list" "render"]], "recursive-tasks.comp.task/on-remove" ["defn" "on-remove" ["path"] ["fn" ["e" "dispatch!"] ["dispatch!" ":remove-task" "path"]]], "recursive-tasks.updater.core/add-task" ["defn" "add-task" ["store" "op-data" "op-id"] ["let" [["path" "op-data"]] ["update-in" "store" "path" ["fn" ["tasks"] ["conj" "tasks" ["merge" "schema/task" ["{}" [":id" "op-id"]]]]]]]], "recursive-tasks.comp.task-list/on-add" ["defn" "on-add" ["path"] ["fn" ["e" "dispatch!"] ["dispatch!" ":add-task" "path"]]], "recursive-tasks.updater.core/toggle-task" ["defn" "toggle-task" ["store" "op-data" "op-id"] ["let" [["path" "op-data"]] ["update-in" "store" "path" ["fn" ["task"] ["update" "task" ":done?" "not"]]]]], "recursive-tasks.comp.task/on-toggle" ["defn" "on-toggle" ["path"] ["fn" ["e" "dispatch!"] ["dispatch!" ":toggle-task" "path"]]], "recursive-tasks.schema/task" ["def" "task" ["{}" [":id" "nil"] [":text" "|"] [":done?" "false"] [":sub-tasks" ["[]"]]]], "recursive-tasks.core/render-app!" ["defn" "render-app!" [] ["let" [["target" [".querySelector" "js/document" "|#app"]]] ["render!" ["comp-container" "@store-ref"] "target" "dispatch!" "states-ref"]]], "recursive-tasks.util.measure/text-width" ["defn" "text-width" ["content" "font-size" "font-family"] ["aset" "ctx" "|font" ["str" "font-size" "|px " "font-family"]] ["aget" [".measureText" "ctx" "content"] "|width"]], "recursive-tasks.core/-main" ["defn" "-main" [] ["enable-console-print!"] ["render-app!"] ["add-watch" "store-ref" ":changes" "render-app!"] ["add-watch" "states-ref" ":changes" "render-app!"] ["println" "|app started!"]], "recursive-tasks.core/store-ref" ["defonce" "store-ref" ["atom" "schema/store"]], "recursive-tasks.updater.core/remove-task" ["defn" "remove-task" ["store" "op-data" "op-id"] ["let" [["path" "op-data"]] ["update-in" "store" ["butlast" "path"] ["fn" ["tasks"] ["let" [["idx" ["last" "path"]] ["len" ["count" "tasks"]]] ["cond" [["=" "idx" "0"] ["subvec" "tasks" "1"]] [["=" "idx" ["dec" "len"]] ["subvec" "tasks" "0" "idx"]] [":else" ["vec" ["concat" ["subvec" "tasks" "0" "idx"] ["subvec" "tasks" ["inc" "idx"]]]]]]]]]]], "recursive-tasks.comp.task-list/style-list" ["def" "style-list" ["{}" [":border-style" "|solid"] [":border-color" ["hsl" "0" "0" "80"]] [":border-left-width" "2"] [":border-top-width" "0"] [":border-bottom-width" "0"] [":border-right-width" "0"]]], "recursive-tasks.core/on-jsload" ["defn" "on-jsload" [] ["clear-cache!"] ["render-app!"] ["println" "|code update."]], "recursive-tasks.comp.task/comp-task" ["def" "comp-task" ["create-comp" ":task" "render"]], "recursive-tasks.schema/store" ["def" "store" ["{}" [":tasks" ["[]"]]]]}, :namespaces {"recursive-tasks.comp.container" ["ns" "recursive-tasks.comp.container" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.debug" ":refer" ["[]" "comp-debug"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "recursive-tasks.comp.task-list" ":refer" ["[]" "comp-task-list"]]]], "recursive-tasks.core" ["ns" "recursive-tasks.core" [":require" ["[]" "recursive-tasks.schema" ":as" "schema"] ["[]" "recursive-tasks.updater.core" ":refer" ["[]" "updater"]] ["[]" "recursive-tasks.updater.core" ":refer" ["[]" "updater"]] ["[]" "recursive-tasks.updater.core" ":refer" ["[]" "updater"]] ["[]" "recursive-tasks.updater.core" ":refer" ["[]" "updater"]] ["[]" "respo.core" ":refer" ["[]" "render!" "clear-cache!"]] ["[]" "recursive-tasks.comp.container" ":refer" ["[]" "comp-container"]] ["[]" "cljs.reader" ":refer" ["[]" "read-string"]]]], "recursive-tasks.schema" ["ns" "recursive-tasks.schema"], "recursive-tasks.comp.task" ["ns" "recursive-tasks.comp.task" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "input" "span"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "recursive-tasks.util.measure" ":refer" ["[]" "text-width"]]]], "recursive-tasks.comp.task-list" ["ns" "recursive-tasks.comp.task-list" [":require" ["[]" "hsl.core" ":refer" ["[]" "hsl"]] ["[]" "respo-ui.style" ":as" "ui"] ["[]" "respo.alias" ":refer" ["[]" "create-comp" "div" "span"]] ["[]" "respo.comp.space" ":refer" ["[]" "comp-space"]] ["[]" "respo.comp.text" ":refer" ["[]" "comp-text"]] ["[]" "recursive-tasks.comp.task" ":refer" ["[]" "comp-task"]] ["[]" "recursive-tasks.style.widget" ":as" "widget"]]], "recursive-tasks.updater.core" ["ns" "recursive-tasks.updater.core" [":require" ["[]" "recursive-tasks.schema" ":as" "schema"]]], "recursive-tasks.style.widget" ["ns" "recursive-tasks.style.widget" [":require" ["[]" "respo-ui.style" ":as" "ui"] ["[]" "hsl.core" ":refer" ["[]" "hsl"]]]], "recursive-tasks.util.measure" ["ns" "recursive-tasks.util.measure"]}, :procedures {"recursive-tasks.core" [["set!" [".-onload" "js/window"] "-main"]], "recursive-tasks.schema" [], "recursive-tasks.comp.task" [], "recursive-tasks.comp.task-list" [], "recursive-tasks.updater.core" [], "recursive-tasks.style.widget" [], "recursive-tasks.util.measure" []}}